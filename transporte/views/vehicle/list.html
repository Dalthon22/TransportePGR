{% extends 'index.html'%}

{% block views %}
<div id="exito" class="ui success message center aligned" style="display: none">
    <div class="header green">Éxito</div>
    <p>¡Registro guardado correctamente!</p>
</div>

<div class="ui container">
    <div class="ui vertically divided grid">
        <div class="sixteen wide column">
            <br>
            <h1 id="title" class="ui blue dividing header"><i class="car icon"></i>Listado de vehículos</h1>
            <br>
            <a href="/vehiculos/gestionar">
                <button class="ui labeled icon right floated primary button" id="nuevo" tabindex="0">
                    <i class="plus icon"></i>Agregar</button>
            </a>
            <table id="mytable" class="ui selectable table">
                <thead>
                    <tr style="text-align: center">
                        <th>Código activo fijo</th>
                        <th>Matrícula</th>
                        <th>Descripción</th>
                        <th>Capacidad de personas</th>
                        <th>Estado</th>
                        <th>Kilometraje actual</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% if vehicles.length > 0 %}
                    {% for c in vehicles %}
                    <tr>
                        <td class="aligned">{{c.plate}}</td>
                        <td class="center aligned">{{c.brand}}</td>
                        <td class="center aligned">{{c.model}}</td>
                        <td class="center aligned">{{c.seats}}</td>
                        <td class="center aligned">{{c.chassis}}</td>
                        <td class="center aligned">{{c.engine}}</td>
                        {% set state = c.state %}
                        <td
                            class={{"positive" if state == "Funcional" else ("warning" if state == "Mantenimiento" else "error")}}>
                            {% if state == "Funcional" %}
                            <i class="check icon"></i>
                            {% elif state == "Mantenimiento" %}
                            <i class="exclamation icon"></i>
                            {% else %}
                            <i class="x icon"></i>
                            {% endif %}
                            {{c.state | capitalize}}
                        </td>
                        <td style="text-align: center">
                            <i class="large pencil yellow alternate link icon"></i>
                        </td>
                    </tr>
                    {% endfor %}
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<link rel="stylesheet" href="/stylesheets/vehicle.css">
<link rel="stylesheet" href="/stylesheets/datatablefix.css">
<script src="/javascript/vehicle/a_vehicle_list.js"></script>
{% endblock %}